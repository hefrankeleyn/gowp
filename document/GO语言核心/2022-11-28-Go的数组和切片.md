# Go的数组和切片

[toc]

## 一、切片的创建

切片的底层是数组。

可以通过make方法或字面量的方式创建切片。

切片相当于一个窗口，这个窗口的大小就是切片的长度。透过的窗口能看到这个长度数组的元素。

```go
	// 示例一： 切片s1的长度为：5, 容量为：5，值为：[0 0 0 0 0]
	s1 := make([]int, 5)
	fmt.Printf("切片s1的长度为：%d, 容量为：%d，值为：%v\n", len(s1), cap(s1), s1)
	// 切片s2的长度为：5, 容量为：8，值为: [0 0 0 0 0]
	s2 := make([]int, 5, 8)
	fmt.Printf("切片s2的长度为：%d, 容量为：%d，值为: %v\n", len(s2), cap(s2), s2)
	// 示例二： 切片s4的长度为：3, 容量为：5，值为： [4 5 6]
	s3 := []int{1, 2, 3, 4, 5, 6, 7, 8}
	s4 := s3[3:6]
	fmt.Printf("切片s4的长度为：%d, 容量为：%d，值为： %v\n", len(s4), cap(s4), s4)
```

## 二、切片的容量和长度

- 一个切片的容量可以被看作是透过这个窗口最多可以看到的底层数组中元素的个数。
- 在底层数组不变的情况下，切片代表的窗口可以向右扩展，直至其底层数组的末尾。
- 切片代表的窗口是无法向左扩展的。

因此，切片的容量，是切片在数组的起始索引，直到数组的末尾。

## 三、扩展切片到最大容量

```go
	// 示例三：扩展切片容量
	// 扩展容量后到切片s4的长度为：5, 容量为：5，值为： [4 5 6 7 8]
	s4 = s4[0:cap(s4)]
	fmt.Printf("扩展容量后到切片s4的长度为：%d, 容量为：%d，值为： %v\n", len(s4), cap(s4), s4)
```

